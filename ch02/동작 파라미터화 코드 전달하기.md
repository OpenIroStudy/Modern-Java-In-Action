<b>동적 파라미터화</b>를 이용하면 자주 바뀌는 요구사항에 효과적으로 대응할 수 있다.  
동적 파라미터화란 아직은 어떻게 실행할 것인지 결정하지 않은 코드 블록을 의미.  
이 코드 블록은 나중에 프로그램에서 호출, 코드 블록의 실행은 나중으로 미뤄진다.  
예를 들면 나중에 실행될 메서드의 인수로 코드 블록 전달.  
<hr>

## 변화하는 요구사항에 대응하기  
하나의 예제를 선정한 다음 예제 코드를 점차 개선해 보자.  
기존의 농장 재고목록 애플리케이션에 리스트에서 녹색 사과만 필터링하는 기능을 추가한다고 가정한다.  

1. 첫번째 시도.  

``` java
public class Apple {
    private Color color;
    private int weight;

    public Color getColor() {
        return color;
    }
    public void setColor(Color color) {
        this.color = color;
    }
    public int getWeight() {
        return weight;
    }
    public void setWeight(int weight) {
        this.weight = weight;
    }
}

public enum Color{ RED, GREEN}

public class Filtering {

    public static List<Apple> filterGreenApples(List<Apple> inventory) {
        List<Apple> result = new ArrayList<>();
        for (Apple apple : inventory) {
            if (Color.GREEN.equals(apple.getColor())) {
                result.add(apple);
            }
        }
        return result;
    }
}

```  
녹색 사과를 선택해서 필터링을 하였지만 소비자가 빨간 사과도 필터링을 하고 싶어졌다.  
또는 좀 더 다양한 색으로 필터링하는 등의 변화에 적절하게 대응하려면 다음과 같은 좋은 규칙이 있다.  
```
 거의 비슷한 코드가 반복 존재한다면, 그 코드를 추상화한다.
```  

2. 두 번째 시도  
색을 파라미터화할 수 있도록 메서드에 파라미터를 추가하면 변화하는 요구사항에 좀 더 유연하게 대응하는 코드를 만들 수 있다.  
``` java
public static List<Apple> filterGreenApples(List<Apple> inventory, Color color) {
        List<Apple> result = new ArrayList<>();
        for (Apple apple : inventory) {
            if (color.equals(apple.getColor())) {
                result.add(apple);
            }
        }
        return result;
    }
    
filterGreenApples(inventory, GREEN); // 사용
```  

농부가 다시 나타나선, '색 이외에도 가벼운 사과와 무거운 사과로 구분할 수 있으면 좋겠다'고 새로운 요구사항은 내논다.  
``` java
 public static List<Apple> filterGreenApples(List<Apple> inventory, int weight) {
        List<Apple> result = new ArrayList<>();
        for (Apple apple : inventory) {
            if (apple.getWeight() > weight) {
                result.add(apple);
            }
        }
        return result;
    }
```  
위 코드를 보면 색 필터링 코드와 대부분 중복된다.  
소프트 웨어 공학의 DRY(Dont repeat yourself, 같은 것을 반복하지 말 것) 원칙을 어기는 것.  

모든 속성을 파라마티로 넘겨줄 수도 있겠지만 코드가 무엇을 의미하는지 알기 힘들 뿐더러, 앞으로 요구사항이 바뀌었을 때 유연하게 대응할 수 없다.  
<b>동적 파라미터화</b>를 이용해 유연성을 얻는 방법을 알아보자.  




